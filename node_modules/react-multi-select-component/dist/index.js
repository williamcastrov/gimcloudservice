var Te=Object.create;var _=Object.defineProperty,Fe=Object.defineProperties,Le=Object.getOwnPropertyDescriptor,We=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertyNames,ie=Object.getOwnPropertySymbols,_e=Object.getPrototypeOf,ce=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var de=(e,r,t)=>r in e?_(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,te=(e,r)=>{for(var t in r||(r={}))ce.call(r,t)&&de(e,t,r[t]);if(ie)for(var t of ie(r))Re.call(r,t)&&de(e,t,r[t]);return e},pe=(e,r)=>Fe(e,We(r)),me=e=>_(e,"__esModule",{value:!0});var He=(e,r)=>{for(var t in r)_(e,t,{get:r[t],enumerable:!0})},ue=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of Ke(r))!ce.call(e,o)&&(t||o!=="default")&&_(e,o,{get:()=>r[o],enumerable:!(n=Le(r,o))||n.enumerable});return e},y=(e,r)=>ue(me(_(e!=null?Te(_e(e)):{},"default",!r&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Ue=(e=>(r,t)=>e&&e.get(r)||(t=ue(me({}),r,1),e&&e.set(r,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var Xe={};He(Xe,{Dropdown:()=>G,MultiSelect:()=>ke,SelectItem:()=>D,SelectPanel:()=>q});function re(e,{insertAt:r}={}){if(!e||typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r==="top"&&t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}re(`.rmsc{--rmsc-main: #4285f4;--rmsc-hover: #f1f3f5;--rmsc-selected: #e2e6ea;--rmsc-border: #ccc;--rmsc-gray: #aaa;--rmsc-bg: #fff;--rmsc-p: 10px;--rmsc-radius: 4px;--rmsc-h: 38px}.rmsc *{box-sizing:border-box;transition:all .2s ease}.rmsc .gray{color:var(--rmsc-gray)}.rmsc .dropdown-content{position:absolute;z-index:1;top:100%;width:100%;padding-top:8px}.rmsc .dropdown-content .panel-content{overflow:hidden;border-radius:var(--rmsc-radius);background:var(--rmsc-bg);box-shadow:0 0 0 1px #0000001a,0 4px 11px #0000001a}.rmsc .dropdown-container{position:relative;outline:0;background-color:var(--rmsc-bg);border:1px solid var(--rmsc-border);border-radius:var(--rmsc-radius)}.rmsc .dropdown-container[aria-disabled=true]:focus-within{box-shadow:var(--rmsc-gray) 0 0 0 1px;border-color:var(--rmsc-gray)}.rmsc .dropdown-container:focus-within{box-shadow:var(--rmsc-main) 0 0 0 1px;border-color:var(--rmsc-main)}.rmsc .dropdown-heading{position:relative;padding:0 var(--rmsc-p);display:flex;align-items:center;width:100%;height:var(--rmsc-h);cursor:default;outline:0}.rmsc .dropdown-heading .dropdown-heading-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.rmsc .clear-selected-button{cursor:pointer;background:none;border:0;padding:0;display:flex}.rmsc .options{max-height:260px;overflow-y:auto;margin:0;padding-left:0}.rmsc .options li{list-style:none;margin:0}.rmsc .select-item{box-sizing:border-box;cursor:pointer;display:block;padding:var(--rmsc-p);outline:0}.rmsc .select-item:hover,.rmsc .select-item:focus{background:var(--rmsc-hover)}.rmsc .select-item.selected{background:var(--rmsc-selected)}.rmsc .no-options{padding:var(--rmsc-p);text-align:center;color:var(--rmsc-gray)}.rmsc .search{width:100%;position:relative;border-bottom:1px solid var(--rmsc-border)}.rmsc .search input{background:none;height:var(--rmsc-h);padding:0 var(--rmsc-p);width:100%;outline:0;border:0}.rmsc .search-clear-button{cursor:pointer;position:absolute;top:0;right:0;bottom:0;background:none;border:0;padding:0 calc(var(--rmsc-p) / 2)}.rmsc .search-clear-button [hidden]{display:none}.rmsc .item-renderer{display:flex;align-items:baseline}.rmsc .item-renderer input{margin:0 5px 0 0}.rmsc .item-renderer.disabled{opacity:.5}.rmsc .spinner{animation:rotate 2s linear infinite}.rmsc .spinner .path{stroke:var(--rmsc-border);stroke-width:4px;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}
`);var J=y(require("react"));var E=y(require("react")),Be={allItemsAreSelected:"All items are selected.",clearSearch:"Clear Search",clearSelected:"Clear Selected",noOptions:"No options",search:"Search",selectAll:"Select All",selectAllFiltered:"Select All (Filtered)",selectSomeItems:"Select...",create:"Create"},$e={value:[],hasSelectAll:!0,className:"multi-select",debounceDuration:200,options:[]},fe=E.default.createContext({}),he=({props:e,children:r})=>{let[t,n]=(0,E.useState)(e.options),o=s=>{var i;return((i=e.overrideStrings)==null?void 0:i[s])||Be[s]};return(0,E.useEffect)(()=>{n(e.options)},[e.options]),E.default.createElement(fe.Provider,{value:pe(te(te({t:o},$e),e),{options:t,setOptions:n})},r)},I=()=>E.default.useContext(fe);var m=y(require("react"));var $=require("react");function ge(e,r){let t=(0,$.useRef)(!1);(0,$.useEffect)(()=>{t.current?e():t.current=!0},r)}var w=require("react"),je={when:!0,eventTypes:["keydown"]};function N(e,r,t){let n=(0,w.useMemo)(()=>Array.isArray(e)?e:[e],[e]),o=Object.assign({},je,t),{when:s,eventTypes:i}=o,v=(0,w.useRef)(r),{target:c}=o;(0,w.useEffect)(()=>{v.current=r});let f=(0,w.useCallback)(d=>{n.some(p=>d.key===p||d.code===p)&&v.current(d)},[n]);(0,w.useEffect)(()=>{if(s&&typeof window!="undefined"){let d=c?c.current:window;return i.forEach(p=>{d&&d.addEventListener(p,f)}),()=>{i.forEach(p=>{d&&d.removeEventListener(p,f)})}}},[s,i,n,c,r])}var g={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ENTER:"Enter",ESCAPE:"Escape",SPACE:"Space"};var a=y(require("react"));var be=(e,r)=>{let t;return function(...n){clearTimeout(t),t=setTimeout(()=>{e.apply(null,n)},r)}};function ve(e,r,t){if(!r)return e;let n=xe(r,t);return e.filter(({label:o,value:s})=>o!=null&&s!=null).map(o=>({option:o,score:Ve(xe(o.label,t),n)})).filter(o=>o.score>=Math.max(n.length-2,n.length)).sort((o,s)=>s.score-o.score).map(o=>o.option)}function Ve(e,r){let t=e.length,n=r.length,o=[];if(!t||!n)return 0;if(t<n&&([e,r]=[r,e],[t,n]=[n,t]),e.indexOf(r)!==-1)return n+1/t;for(let s=0;s<=t;++s)o[s]=[0];for(let s=0;s<=n;++s)o[0][s]=0;for(let s=1;s<=t;++s)for(let i=1;i<=n;++i)o[s][i]=e[s-1]===r[i-1]?1+o[s-1][i-1]:Math.max(o[s][i-1],o[s-1][i]);return o[t][n]}function xe(e,r){if(!e)return"";if(e=e.toUpperCase().replace(/((?=[^\u00E0-\u00FC])\W)|_/g,""),!r)return e;let t=r;return Object.keys(t).reduce((n,o)=>{let s=new RegExp(o,"g");return n.replace(s,t[o])},e)}var j=y(require("react")),V=()=>j.default.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-search-clear-icon gray"},j.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),j.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));var R=y(require("react"));var Y=y(require("react")),Ye=({checked:e,option:r,onClick:t,disabled:n})=>Y.default.createElement("div",{className:`item-renderer ${n&&"disabled"}`},Y.default.createElement("input",{type:"checkbox",onChange:t,checked:e,tabIndex:-1,disabled:n}),Y.default.createElement("span",null,r.label)),Se=Ye;var qe=({itemRenderer:e=Se,option:r,checked:t,tabIndex:n,disabled:o,onSelectionChanged:s,onClick:i})=>{let v=(0,R.useRef)(),c=p=>{f(),p.preventDefault()},f=()=>{o||s(!t)},d=p=>{f(),i(p)};return N([g.ENTER,g.SPACE],c,{target:v}),R.default.createElement("label",{className:`select-item ${t&&"selected"}`,role:"option","aria-selected":t,tabIndex:n,ref:v},R.default.createElement(e,{option:r,checked:t,onClick:d,disabled:o}))},D=qe;var H=y(require("react"));var ze=({options:e,onClick:r,skipIndex:t})=>{let{disabled:n,value:o,onChange:s,ItemRenderer:i}=I(),v=(c,f)=>{n||s(f?[...o,c]:o.filter(d=>d.value!==c.value))};return H.default.createElement(H.default.Fragment,null,e.map((c,f)=>{let d=f+t;return H.default.createElement("li",{key:(c==null?void 0:c.key)||f},H.default.createElement(D,{tabIndex:d,option:c,onSelectionChanged:p=>v(c,p),checked:!!o.find(p=>p.value===c.value),onClick:p=>r(p,d),itemRenderer:i,disabled:c.disabled||n}))}))},ye=ze;var Ge=()=>{let{t:e,onChange:r,options:t,setOptions:n,value:o,filterOptions:s,ItemRenderer:i,disabled:v,disableSearch:c,hasSelectAll:f,ClearIcon:d,debounceDuration:p,isCreatable:A,onCreateOption:U}=I(),x=(0,a.useRef)(),S=(0,a.useRef)(),[C,T]=(0,a.useState)(""),[O,P]=(0,a.useState)(t),[F,L]=(0,a.useState)(""),[W,M]=(0,a.useState)(0),Q=(0,a.useCallback)(be(l=>L(l),p),[]),K=(0,a.useMemo)(()=>{let l=0;return c||(l+=1),f&&(l+=1),l},[c,f]),X={label:e(C?"selectAllFiltered":"selectAll"),value:""},Z=l=>{let u=O.filter(k=>!k.disabled).map(k=>k.value);if(l){let De=[...o.map(ee=>ee.value),...u];return(s?O:t).filter(ee=>De.includes(ee.value))}return o.filter(k=>!u.includes(k.value))},b=l=>{let u=Z(l);r(u)},B=l=>{Q(l.target.value),T(l.target.value),M(0)},se=()=>{var l;L(""),T(""),(l=S==null?void 0:S.current)==null||l.focus()},le=l=>M(l),Ee=l=>{switch(l.code){case g.ARROW_UP:ae(-1);break;case g.ARROW_DOWN:ae(1);break;default:return}l.stopPropagation(),l.preventDefault()};N([g.ARROW_DOWN,g.ARROW_UP],Ee,{target:x});let Ie=()=>{M(0)},Ae=async()=>{let l={label:C,value:C,__isNew__:!0};U&&(l=await U(C)),n([l,...t]),se(),r([...o,l])},Pe=async()=>s?await s(t,F):ve(t,F),ae=l=>{let u=W+l;u=Math.max(0,u),u=Math.min(u,t.length+Math.max(K-1,0)),M(u)};(0,a.useEffect)(()=>{var l,u;(u=(l=x==null?void 0:x.current)==null?void 0:l.querySelector(`[tabIndex='${W}']`))==null||u.focus()},[W]);let[Me,Ne]=(0,a.useMemo)(()=>{let l=O.filter(u=>!u.disabled);return[l.every(u=>o.findIndex(k=>k.value===u.value)!==-1),l.length!==0]},[O,o]);return(0,a.useEffect)(()=>{Pe().then(P)},[F,t]),a.default.createElement("div",{className:"select-panel",role:"listbox",ref:x},!c&&a.default.createElement("div",{className:"search"},a.default.createElement("input",{placeholder:e("search"),type:"text","aria-describedby":e("search"),onChange:B,onFocus:Ie,value:C,ref:S,tabIndex:0}),a.default.createElement("button",{type:"button",className:"search-clear-button",hidden:!C,onClick:se,"aria-label":e("clearSearch")},d||a.default.createElement(V,null))),a.default.createElement("ul",{className:"options"},f&&Ne&&a.default.createElement(D,{tabIndex:K===1?0:1,checked:Me,option:X,onSelectionChanged:b,onClick:()=>le(1),itemRenderer:i,disabled:v}),O.length?a.default.createElement(ye,{skipIndex:K,options:O,onClick:(l,u)=>le(u)}):A?a.default.createElement("li",{onClick:Ae,className:"select-item creatable"},`${e("create")} "${C}"`):a.default.createElement("li",{className:"no-options"},e("noOptions"))))},q=Ge;var oe=y(require("react")),Ce=({expanded:e})=>oe.default.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-heading-dropdown-arrow gray"},oe.default.createElement("path",{d:e?"M18 15 12 9 6 15":"M6 9L12 15 18 9"}));var ne=y(require("react"));var we=()=>{let{t:e,value:r,options:t,valueRenderer:n}=I(),o=r.length===0,s=r.length===t.length,i=n&&n(r,t);return o?ne.default.createElement("span",{className:"gray"},i||e("selectSomeItems")):ne.default.createElement("span",null,i||(s?e("allItemsAreSelected"):(()=>r.map(c=>c.label).join(", "))()))};var z=y(require("react")),Oe=({size:e=24})=>z.default.createElement("span",{style:{width:e,marginRight:"0.2rem"}},z.default.createElement("svg",{width:e,height:e,className:"spinner",viewBox:"0 0 50 50",style:{display:"inline",verticalAlign:"middle"}},z.default.createElement("circle",{cx:"25",cy:"25",r:"20",fill:"none",className:"path"})));var Je=()=>{let{t:e,onMenuToggle:r,ArrowRenderer:t,shouldToggleOnHover:n,isLoading:o,disabled:s,onChange:i,labelledBy:v,value:c,isOpen:f,defaultIsOpen:d,ClearSelectedIcon:p}=I(),[A,U]=(0,m.useState)(!0),[x,S]=(0,m.useState)(d),[C,T]=(0,m.useState)(!1),O=t||Ce,P=(0,m.useRef)();ge(()=>{r&&r(x)},[x]),(0,m.useEffect)(()=>{d===void 0&&typeof f=="boolean"&&(U(!1),S(f))},[f]);let F=b=>{var B;["text","button"].includes(b.target.type)&&[g.SPACE,g.ENTER].includes(b.code)||(A&&(b.code===g.ESCAPE?(S(!1),(B=P==null?void 0:P.current)==null||B.focus()):S(!0)),b.preventDefault())};N([g.ENTER,g.ARROW_DOWN,g.SPACE,g.ESCAPE],F,{target:P});let L=b=>{A&&n&&S(b)},W=()=>!C&&T(!0),M=b=>{!b.currentTarget.contains(b.relatedTarget)&&A&&(T(!1),S(!1))},Q=()=>L(!0),K=()=>L(!1),X=()=>{A&&S(o||s?!1:!x)},Z=b=>{b.stopPropagation(),i([]),A&&S(!1)};return m.default.createElement("div",{tabIndex:0,className:"dropdown-container","aria-labelledby":v,"aria-expanded":x,"aria-readonly":!0,"aria-disabled":s,ref:P,onFocus:W,onBlur:M,onMouseEnter:Q,onMouseLeave:K},m.default.createElement("div",{className:"dropdown-heading",onClick:X},m.default.createElement("div",{className:"dropdown-heading-value"},m.default.createElement(we,null)),o&&m.default.createElement(Oe,null),c.length>0&&m.default.createElement("button",{type:"button",className:"clear-selected-button",onClick:Z,disabled:s,"aria-label":e("clearSelected")},p||m.default.createElement(V,null)),m.default.createElement(O,{expanded:x})),x&&m.default.createElement("div",{className:"dropdown-content"},m.default.createElement("div",{className:"panel-content"},m.default.createElement(q,null))))},G=Je;var Qe=e=>J.default.createElement(he,{props:e},J.default.createElement("div",{className:`rmsc ${e.className||"multi-select"}`},J.default.createElement(G,null))),ke=Qe;module.exports=Ue(Xe);0&&(module.exports={Dropdown,MultiSelect,SelectItem,SelectPanel});
